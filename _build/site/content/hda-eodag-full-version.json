{"version":2,"kind":"Notebook","sha256":"c096a3bfd7841f99d724d428d2dabd5d48ef7afd2c7dad293bbdeb2fa723dee5","slug":"hda-eodag-full-version","location":"/HDA/EODAG/HDA-EODAG-full-version.ipynb","dependencies":[],"frontmatter":{"title":"DEDL - EODAG - DestinE Data Lake Provider (DEDL)","content_includes_title":true,"kernelspec":{"name":"python_dedl","display_name":"Python DEDL","language":"python"},"numbering":{"title":{"offset":2}},"thumbnail":"/b27bd30f978ddf0848f3ea0942070886.jpeg","exports":[{"format":"ipynb","filename":"HDA-EODAG-full-version.ipynb","url":"/HDA-EODAG-full-versi-45961eda8302a75166a50945279378f5.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"image","url":"/b27bd30f978ddf0848f3ea0942070886.jpeg","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lb7qEFN8TX","urlSource":"https://github.com/destination-earth/DestinE-DataLake-Lab/blob/main/img/DestinE-banner.jpg?raw=true"}],"visibility":"show","key":"CuUYS1XocR"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"DEDL - EODAG - DestinE Data Lake Provider (DEDL)","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"aDtrjEqm47"}],"identifier":"dedl-eodag-destine-data-lake-provider-dedl","label":"DEDL - EODAG - DestinE Data Lake Provider (DEDL)","html_id":"dedl-eodag-destine-data-lake-provider-dedl","implicit":true,"key":"Jlbdtfz7pm"}],"key":"ZW1rc3mMrb"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Author","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xl0CXRKbo3"}],"key":"ktyHsUVWT6"},{"type":"text","value":": EUMETSAT ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WN9MxxIs5l"},{"type":"break","key":"p98Z5sUqki"},{"type":"text","value":"\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vfE0GXJplf"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Copyright","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DUnTaDJLWY"}],"key":"vA8oOqatM0"},{"type":"text","value":": 2024 EUMETSAT ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"f3tc1uU0zU"},{"type":"break","key":"QpESn6kKoD"},{"type":"text","value":"\n","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gF6JBL7iHA"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Licence","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MAIKZRIkJo"}],"key":"AygmjAOYAh"},{"type":"text","value":": MIT ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AisLMKSJb7"},{"type":"break","key":"aHQNgj6R1J"}],"key":"FC6E1ZksAp"}],"key":"azwbatArNl"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-block alert-success","children":[{"type":"heading","depth":3,"children":[{"type":"text","value":"How to use EODAG to search and access DEDL data","key":"n0slGNxeDb"}],"identifier":"how-to-use-eodag-to-search-and-access-dedl-data","label":"How to use EODAG to search and access DEDL data","html_id":"how-to-use-eodag-to-search-and-access-dedl-data","implicit":true,"key":"VeEfcmNlgX"},{"type":"text","value":"EODAG is a command line tool and a Python package for searching and downloading earth observation data via a unified API regardless of the data provider. Detailed information about the usage of EODAG can be found on the ","key":"u8F7tyHQz4"},{"type":"link","url":"https://eodag.readthedocs.io/en/stable/index.html","children":[{"type":"text","value":"project documentation page","key":"PcpfjGiOpm"}],"urlSource":"https://eodag.readthedocs.io/en/stable/index.html","key":"ZttQfQvXF5"},{"type":"text","value":".","key":"XD6f6NsgpO"},{"type":"paragraph","children":[{"type":"text","value":"This notebook demonstrates how to use the DEDL provider in EODAG, using Python code.","key":"sWR8KHCOc2"}],"key":"eYisFs6NSV"}],"key":"bNUIOGwCgF"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"crossReference","url":"/hda-eodag-quick-start","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Setup","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"b2u6eT9jpC"}],"urlSource":"HDA-EODAG-full-version.ipynb#Setup","dataUrl":"/hda-eodag-quick-start.json","identifier":"setup","label":"Setup","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"setup","key":"zX4Fwdkatr"},{"type":"text","value":": ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"QOA1QWdi5i"},{"type":"emphasis","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"EODAG","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"fMLArJRmBB"}],"key":"cWZZ0o146a"},{"type":"text","value":" configuration to use the provider ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"F45lev0ITi"},{"type":"emphasis","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"C62mU6QDcC"}],"key":"m4gCRRwvzk"},{"type":"text","value":" .","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"oN2R1eHEFJ"}],"key":"f3aMmWL6lg"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"crossReference","url":"/hda-eodag-full-version","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Search","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"NbX6baIpwL"}],"urlSource":"HDA-EODAG-full-version.ipynb#Search","dataUrl":"/hda-eodag-full-version.json","identifier":"search","label":"Search","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"search","key":"EG1bFGfMKQ"},{"type":"text","value":": search ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"xbL40SCRFx"},{"type":"emphasis","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"cDnaasFjo5"}],"key":"W8gs5B8uRA"},{"type":"text","value":" data, we search for Sentinel-3 data.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"XZGxQL8BSU"}],"key":"Sdsj24vP6y"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"crossReference","url":"/dedl-hda-eo-ecmwf-dat-dt-extremes","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Filter","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"fZCGFluhk7"}],"urlSource":"HDA-EODAG-full-version.ipynb#Filter","dataUrl":"/dedl-hda-eo-ecmwf-dat-dt-extremes.json","identifier":"filter","label":"Filter","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"filter","key":"lleqlfHNnx"},{"type":"text","value":": filter ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"uZjM641zBT"},{"type":"emphasis","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"uvjmr5gtKf"}],"key":"YjVGh8IGO3"},{"type":"text","value":" data.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"skOCgWYwxt"}],"key":"YgdxWejRIk"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"crossReference","url":"/hda-eodag-full-version","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Download","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"kmcFlPmLSS"}],"urlSource":"HDA-EODAG-full-version.ipynb#Download","dataUrl":"/hda-eodag-full-version.json","identifier":"download","label":"Download","remote":true,"protocol":"file","kind":"heading","template":"{name}","resolved":true,"html_id":"download","key":"LY2NGJpDWO"},{"type":"text","value":": download ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"N1K1b6avgp"},{"type":"emphasis","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Vcb22h5g6s"}],"key":"yf5tLXhUii"},{"type":"text","value":" data.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"WSjyLvFfQj"}],"key":"dmenWnEqhO"}],"key":"HdwJcfqXC2"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"The complete guide on how to use EODAG Python API is available via ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"AN7KByfsnk"},{"type":"link","url":"https://eodag.readthedocs.io/en/stable/api_user_guide.html","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"https://​eodag​.readthedocs​.io​/en​/stable​/api​_user​_guide​.html","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"MRHwuQwYe7"}],"urlSource":"https://eodag.readthedocs.io/en/stable/api_user_guide.html","key":"GMAFbydfOt"},{"type":"text","value":".","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"aHPCRpf1RV"}],"key":"Bx7FbjIfHr"}],"key":"aBJ5XUBiVc"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-block alert-warning","children":[{"type":"strong","children":[{"type":"text","value":"Prequisites: ","key":"VD3D1wmYjA"}],"key":"MMb9yimWfO"},{"type":"text","value":"For search and download dedl products : ","key":"zqPDPJFl3F"},{"type":"link","url":"https://platform.destine.eu/","children":[{"type":"text","value":"DestinE user account","key":"V7PJPeI4Et"}],"urlSource":"https://platform.destine.eu/","key":"oRsxFLpVqx"}],"key":"N8lIlX9Yvr"}],"key":"x4JGU8dvdX"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-block alert-warning","children":[{"type":"strong","children":[{"type":"text","value":"Note:","key":"CNf1DOkALC"}],"key":"GK6uC0V97U"},{"type":"paragraph","children":[{"type":"text","value":"Please note that the two factor authentication (2FA) is still not implemented in EODAG. The users who have enabled 2FA on DESP will not be able to run this notebook.","key":"xN7i2nzRX5"}],"key":"QfvKyUbio9"}],"key":"kblJjjgzGF"}],"key":"TFXvrB81bT"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Setup","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DOvccwFObA"}],"identifier":"setup","label":"Setup","html_id":"setup","implicit":true,"key":"K7w34vIsu9"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In this section, we set:","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"JmTk0WFoj3"}],"key":"q3urEBB9Sj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The output_dir, the directory where to store downloaded products.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"AqpcbZDkCL"}],"key":"G0NbkQsRdU"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"The DEDL credentials, you’ll be asked to enter your DEDL credentials.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"LmnYsDPvci"}],"key":"jKnuvgZHBz"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The search timeout, it is of 60 seconds to avoid any unexpected errors because of long running search queries.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"DayqaCYSjg"}],"key":"t52LMH4UdR"}],"key":"bhdhSnvT2W"}],"visibility":"show","key":"PczXFJkgOK"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import os\nfrom getpass import getpass\n\nworkspace = 'eodag_workspace'\nif not os.path.isdir(workspace):\n    os.mkdir(workspace)\n    \nos.environ[\"EODAG__DEDL__DOWNLOAD__OUTPUT_DIR\"] = os.path.abspath(workspace)\n#os.environ[\"EODAG__DEDL__DOWNLOAD__OUTPUTS_PREFIX\"] = os.path.abspath(workspace)\n\nos.environ[\"EODAG__DEDL__PRIORITY\"]=\"10\"\nos.environ[\"EODAG__DEDL__SEARCH__TIMEOUT\"]=\"60\"\n\n\nDESP_USERNAME = input(\"Please input your DESP username or email: \")\nDESP_PASSWORD = getpass(\"Please input your DESP password: \")\n\nos.environ[\"EODAG__DEDL__AUTH__CREDENTIALS__USERNAME\"]=DESP_USERNAME\nos.environ[\"EODAG__DEDL__AUTH__CREDENTIALS__PASSWORD\"]=DESP_PASSWORD\n","visibility":"show","key":"NcFahq0eRd"},{"type":"output","id":"MP9X2b9PS1crvx8wK6doX","data":[{"name":"stdin","output_type":"stream","text":"Please input your DESP username or email:  eum-dedl-user\nPlease input your DESP password:  ········\n"}],"visibility":"show","key":"MmmmC0gDJ5"}],"visibility":"show","key":"SF47BD6AOe"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import EODAG and list available products on DEDL","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ya53AX04Fx"}],"identifier":"import-eodag-and-list-available-products-on-dedl","label":"Import EODAG and list available products on DEDL","html_id":"import-eodag-and-list-available-products-on-dedl","implicit":true,"key":"hYtvUOK5Cf"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We now need to import the EODataAccessGateway class. The class is going to take care of  all the following operations.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"q15HQyFPr9"}],"key":"gKpZzUBHv3"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We can start listing the products available using dedl as provider.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qusImo8LND"}],"key":"WLaW2CtoD0"}],"visibility":"show","key":"OyW02Nes8u"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"\nfrom eodag import EODataAccessGateway\ndag = EODataAccessGateway()","visibility":"show","key":"MtpCMubURR"},{"type":"output","id":"98l9bEWkSFMv--FeBJ8_r","data":[],"visibility":"show","key":"ZDMplxXX9k"}],"visibility":"show","key":"QwLbNUtlBc"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"[product_type[\"ID\"] + \", \" + product_type[\"title\"] for product_type in dag.list_product_types(\"dedl\")]","visibility":"show","key":"MSeSMq196w"},{"type":"output","id":"tt9zK8u5DQpqK6SVc-_LZ","data":[{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"['AERIS_IAGOS, In-service Aircraft for a Global Observing System',\n 'CAMS_EAC4, CAMS global reanalysis (EAC4)',\n 'CAMS_EAC4_MONTHLY, CAMS global reanalysis (EAC4) monthly averaged fields',\n 'CAMS_EU_AIR_QUALITY_FORECAST, CAMS European air quality forecasts',\n 'CAMS_EU_AIR_QUALITY_RE, CAMS European air quality reanalyses',\n 'CAMS_GAC_FORECAST, CAMS global atmospheric composition forecasts',\n 'CAMS_GFE_GFAS, CAMS global biomass burning emissions based on fire radiative power (GFAS)',\n 'CAMS_GLOBAL_EMISSIONS, CAMS global emission inventories',\n 'CAMS_GREENHOUSE_EGG4, CAMS global greenhouse gas reanalysis (EGG4)',\n 'CAMS_GREENHOUSE_EGG4_MONTHLY, CAMS global greenhouse gas reanalysis (EGG4) monthly averaged fields',\n 'CAMS_GREENHOUSE_INVERSION, CAMS global inversion-optimised greenhouse gas fluxes and concentrations',\n 'CAMS_GRF, CAMS global radiative forcings',\n 'CAMS_GRF_AUX, CAMS global radiative forcing - auxilliary variables',\n 'CAMS_SOLAR_RADIATION, CAMS solar radiation time-series',\n 'CLMS_CORINE, CORINE Land Cover',\n 'CLMS_GLO_DMP_333M, 10-daily Dry Matter Productivity 333M',\n 'CLMS_GLO_FAPAR_333M, Global 10-daily Fraction of Absorbed PAR 333m',\n 'CLMS_GLO_FCOVER_333M, Global 10-daily Fraction of Vegetation Cover 333m',\n 'CLMS_GLO_GDMP_333M, 10-daily Gross Dry Matter Productivity 333M',\n 'CLMS_GLO_LAI_333M, Global 10-daily Leaf Area Index 333m',\n 'CLMS_GLO_NDVI_1KM_LTS, Normalized Difference Vegetation Index: global Long Term Statistics (raster 1km) - version 2, Apr 2019',\n 'CLMS_GLO_NDVI_333M, Global 10-daily Normalized Difference Vegetation Index 333M',\n 'COP_DEM_GLO30_DGED, Copernicus DEM GLO-30 DGED',\n 'COP_DEM_GLO30_DTED, Copernicus DEM GLO-30 DTED',\n 'COP_DEM_GLO90_DGED, Copernicus DEM GLO-90 DGED',\n 'COP_DEM_GLO90_DTED, Copernicus DEM GLO-90 DTED',\n 'DT_CLIMATE_ADAPTATION, Climate Change Adaptation Digital Twin (DT)',\n 'DT_EXTREMES, Weather and Geophysical Extremes Digital Twin (DT)',\n 'EEA_DAILY_VI, Vegetation Indices, daily, UTM projection',\n 'EFAS_FORECAST, River discharge and related forecasted data by the European Flood Awareness System',\n 'EFAS_HISTORICAL, River discharge and related historical data from the European Flood Awareness System',\n 'EFAS_REFORECAST, Reforecasts of river discharge and related data by the European Flood Awareness System',\n 'EFAS_SEASONAL, Seasonal forecasts of river discharge and related data by the European Flood Awareness System',\n 'EFAS_SEASONAL_REFORECAST, Seasonal reforecasts of river discharge and related data by the European Flood Awareness System',\n 'ERA5_LAND, ERA5-Land hourly data from 1950 to present',\n 'ERA5_LAND_MONTHLY, ERA5-Land monthly averaged data from 1950 to present',\n 'ERA5_PL, ERA5 hourly data on pressure levels from 1940 to present',\n 'ERA5_PL_MONTHLY, ERA5 monthly averaged data on pressure levels from 1940 to present',\n 'ERA5_SL, ERA5 hourly data on single levels from 1940 to present',\n 'ERA5_SL_MONTHLY, ERA5 monthly averaged data on single levels from 1940 to present',\n 'EUSTAT_GREENHOUSE_GAS_EMISSION_AGRICULTURE, Eurostat - Greenhouse gas emissions from agriculture',\n 'EUSTAT_POP_AGE_GROUP_SEX_NUTS3, Population on 1 January by age, sex and NUTS 3 region',\n 'EUSTAT_POP_AGE_SEX_NUTS2, Population on 1 January by age, sex and NUTS 2 region',\n 'EUSTAT_POP_CHANGE_DEMO_BALANCE_CRUDE_RATES_NUTS3, Population change - Demographic balance and crude rates at regional level (NUTS 3)',\n 'EUSTAT_SHARE_ENERGY_FROM_RENEWABLE, Share of energy from renewable sources',\n 'FIRE_HISTORICAL, Fire danger indices historical data from the Copernicus Emergency Management Service',\n 'GLACIERS_DIST_RANDOLPH, Glaciers distribution data from the Randolph Glacier Inventory for year 2000',\n 'GLOFAS_FORECAST, River discharge and related forecasted data by the Global Flood Awareness System',\n 'GLOFAS_HISTORICAL, River discharge and related historical data from the Global Flood Awareness System',\n 'GLOFAS_REFORECAST, Reforecasts of river discharge and related data by the Global Flood Awareness System',\n 'GLOFAS_SEASONAL, Seasonal forecasts of river discharge and related data by the Global Flood Awareness System',\n 'GLOFAS_SEASONAL_REFORECAST, Seasonal reforecasts of river discharge and related data from the Global Flood Awareness System',\n 'GRIDDED_GLACIERS_MASS_CHANGE, Glacier mass change gridded data from 1976 to present derived from the Fluctuations of Glaciers Database',\n 'GSW_CHANGE, Global Surface Water Occurrence Change Intensity 1984-2020',\n 'GSW_EXTENT, Global Surface Water Maximum Water Extent 1984-2021',\n 'GSW_OCCURRENCE, Global Surface Water Occurrence 1984-2021',\n 'GSW_RECURRENCE, Global Surface Water Recurrence 1984-2021',\n 'GSW_SEASONALITY, Global Surface Water Seasonality 2014-2020',\n 'GSW_TRANSITIONS, Global Surface Water Transitions 1984-2021',\n 'ISIMIP_CLIMATE_FORCING_ISIMIP3B, ISIMIP3b climate input data',\n 'ISIMIP_SOCIO_ECONOMIC_FORCING_ISIMIP3B, ISIMIP3b socio-economic input data',\n 'LANDSAT_C2L1, Landsat Collection 2 Level-1 Product',\n 'LANDSAT_C2L2, Landsat OLI and TIRS Collection 2 Level-2 Science Products 30-meter multispectral data.',\n 'METOP_AMSU_L1, AMSU-A Level 1B - Metop - Global',\n 'METOP_ASCSZF1B, ASCAT Level 1 Sigma0 Full Resolution - Metop - Global',\n 'METOP_ASCSZFR02, ASCAT Level 1 SZF Climate Data Record Release 2 - Metop',\n 'METOP_ASCSZO1B, ASCAT Level 1 Sigma0 resampled at 25 km Swath Grid - Metop - Global',\n 'METOP_ASCSZOR02, ASCAT Level 1 SZO Climate Data Record Release 2 - Metop',\n 'METOP_ASCSZR1B, ASCAT Level 1 Sigma0 resampled at 12.5 km Swath Grid - Metop - Global',\n 'METOP_ASCSZRR02, ASCAT Level 1 SZR Climate Data Record Release 2 - Metop',\n 'METOP_AVHRRGACR02, AVHRR GAC Atmospheric Motion Vectors Climate Data Record Release 2 - Multimission - Polar',\n 'METOP_AVHRRL1, AVHRR Level 1B - Metop - Global',\n 'METOP_GLB_SST_NC, Global L3C AVHRR Sea Surface Temperature (GHRSST) - Metop',\n 'METOP_GOMEL1, GOME-2 Level 1B - Metop - Global',\n 'METOP_GOMEL1R03, GOME-2 Level 1B Fundamental Data Record Release 3 - Metop-A and -B',\n 'METOP_HIRSL1, HIRS Level 1B - Metop - Global',\n 'METOP_IASIL1C_ALL, IASI Level 1C - All Spectral Samples - Metop - Global',\n 'METOP_IASSND02, IASI Combined Sounding Products - Metop',\n 'METOP_IASTHR011, IASI All Sky Temperature and Humidity Profiles - Climate Data Record Release 1.1 - Metop-A and -B',\n 'METOP_LSA_002, Daily Land Surface Temperature - Metop',\n 'METOP_MHSL1, MHS Level 1B - Metop - Global',\n 'METOP_OSI_104, ASCAT Coastal Winds at 12.5 km Swath Grid - Metop',\n 'METOP_OSI_150A, ASCAT L2 25 km Winds Data Record Release 1 - Metop',\n 'METOP_OSI_150B, ASCAT L2 12.5 km Winds Data Record Release 1 - Metop',\n 'METOP_SOMO12, ASCAT Soil Moisture at 12.5 km Swath Grid in NRT - Metop',\n 'METOP_SOMO25, ASCAT Soil Moisture at 25 km Swath Grid in NRT - Metop',\n 'MO_GLOBAL_ANALYSISFORECAST_BGC_001_028, Global Ocean Biogeochemistry Analysis and Forecast',\n 'MO_GLOBAL_ANALYSISFORECAST_PHY_001_024, Global Ocean Physics Analysis and Forecast',\n 'MO_GLOBAL_ANALYSISFORECAST_WAV_001_027, Global Ocean Waves Analysis and Forecast',\n 'MO_GLOBAL_MULTIYEAR_BGC_001_033, Global ocean low and mid trophic levels biomass content hindcast',\n 'MO_GLOBAL_MULTIYEAR_PHY_ENS_001_031, Global Ocean Ensemble Physics Reanalysis',\n 'MO_GLOBAL_MULTIYEAR_WAV_001_032, Global Ocean Waves Reanalysis',\n 'MO_INSITU_GLO_PHY_TS_OA_MY_013_052, Global Ocean- Delayed Mode gridded CORA- In-situ Observations objective analysis in Delayed Mode',\n 'MO_INSITU_GLO_PHY_TS_OA_NRT_013_002, Global Ocean- Real time in-situ observations objective analysis',\n 'MO_INSITU_GLO_PHY_UV_DISCRETE_NRT_013_048, Global Ocean- in-situ Near real time observations of ocean currents',\n 'MO_MULTIOBS_GLO_BGC_NUTRIENTS_CARBON_PROFILES_MYNRT_015_009, Nutrient and carbon profiles vertical distribution',\n 'MO_MULTIOBS_GLO_BIO_BGC_3D_REP_015_010, Global Ocean 3D Chlorophyll-a concentration, Particulate Backscattering coefficient and Particulate Organic Carbon',\n 'MO_MULTIOBS_GLO_BIO_CARBON_SURFACE_MYNRT_015_008, Global Ocean Surface Carbon',\n 'MO_MULTIOBS_GLO_PHY_MYNRT_015_003, Global Total (COPERNICUS-GLOBCURRENT), Ekman and Geostrophic currents at the Surface and 15m',\n 'MO_MULTIOBS_GLO_PHY_S_SURFACE_MYNRT_015_013, Multi Observation Global Ocean Sea Surface Salinity and Sea Surface Density',\n 'MO_MULTIOBS_GLO_PHY_TSUV_3D_MYNRT_015_012, Multi Observation Global Ocean 3D Temperature Salinity Height Geostrophic Current and MLD',\n 'MO_MULTIOBS_GLO_PHY_W_3D_REP_015_007, Global Observed Ocean Physics 3D Quasi-Geostrophic Currents (OMEGA3D)',\n 'MO_OCEANCOLOUR_GLO_BGC_L3_MY_009_103, Global Ocean Colour (Copernicus-GlobColour), Bio-Geo-Chemical, L3 (daily) from Satellite Observations (1997-ongoing)',\n 'MO_OCEANCOLOUR_GLO_BGC_L3_MY_009_107, Global Ocean Colour Plankton and Reflectances MY L3 daily observations',\n 'MO_OCEANCOLOUR_GLO_BGC_L3_NRT_009_101, Global Ocean Colour (Copernicus-GlobColour), Bio-Geo-Chemical, L3 (daily) from Satellite Observations (Near Real Time)',\n 'MO_OCEANCOLOUR_GLO_BGC_L4_MY_009_104, Global Ocean Colour (Copernicus-GlobColour), Bio-Geo-Chemical, L4 (monthly and interpolated) from Satellite Observations (1997-ongoing)',\n 'MO_OCEANCOLOUR_GLO_BGC_L4_MY_009_108, Global Ocean Colour Plankton MY L4 monthly observations',\n 'MO_OCEANCOLOUR_GLO_BGC_L4_NRT_009_102, Global Ocean Colour (Copernicus-GlobColour), Bio-Geo-Chemical, L4 (monthly and interpolated) from Satellite Observations (Near Real Time)',\n 'MO_SEAICE_GLO_SEAICE_L4_NRT_OBSERVATIONS_011_001, Global Ocean - Arctic and Antarctic - Sea Ice Concentration, Edge, Type and Drift (OSI-SAF)',\n 'MO_SEAICE_GLO_SEAICE_L4_NRT_OBSERVATIONS_011_006, Global Ocean - High Resolution SAR Sea Ice Drift',\n 'MO_SEAICE_GLO_SEAICE_L4_REP_OBSERVATIONS_011_009, Global Ocean Sea Ice Concentration Time Series REPROCESSED (OSI-SAF)',\n 'MO_SEALEVEL_GLO_PHY_L4_NRT_008_046, GLOBAL OCEAN GRIDDED L4 SEA SURFACE HEIGHTS AND DERIVED VARIABLES NRT',\n 'MO_SEALEVEL_GLO_PHY_MDT_008_063, GLOBAL OCEAN MEAN DYNAMIC TOPOGRAPHY',\n 'MO_SST_GLO_SST_L3S_NRT_OBSERVATIONS_010_010, ODYSSEA Global Ocean - Sea Surface Temperature Multi-sensor L3 Observations',\n 'MO_SST_GLO_SST_L4_NRT_OBSERVATIONS_010_001, Global Ocean OSTIA Sea Surface Temperature and Sea Ice Analysis',\n 'MO_SST_GLO_SST_L4_REP_OBSERVATIONS_010_011, Global Ocean OSTIA Sea Surface Temperature and Sea Ice Reprocessed',\n 'MO_SST_GLO_SST_L4_REP_OBSERVATIONS_010_024, ESA SST CCI and C3S reprocessed sea surface temperature analyses',\n 'MO_WAVE_GLO_PHY_SPC_FWK_L3_NRT_014_002, Global Ocean L 3 Spectral Parameters From Nrt Satellite Measurements',\n 'MO_WAVE_GLO_PHY_SWH_L3_NRT_014_001, GLOBAL OCEAN L3 SIGNIFICANT WAVE HEIGHT FROM NRT SATELLITE MEASUREMENTS',\n 'MO_WAVE_GLO_PHY_SWH_L4_NRT_014_003, GLOBAL OCEAN L4 SIGNIFICANT WAVE HEIGHT FROM NRT SATELLITE MEASUREMENTS',\n 'MO_WIND_GLO_PHY_CLIMATE_L4_MY_012_003, Global Ocean Monthly Mean Sea Surface Wind and Stress from Scatterometer and Model',\n 'MO_WIND_GLO_PHY_L3_MY_012_005, Global Ocean Daily Gridded Reprocessed L3 Sea Surface Winds from Scatterometer',\n 'MO_WIND_GLO_PHY_L3_NRT_012_002, Global Ocean Daily Gridded Sea Surface Winds from Scatterometer',\n 'MO_WIND_GLO_PHY_L4_MY_012_006, Global Ocean Hourly Reprocessed Sea Surface Wind and Stress from Scatterometer and Model',\n 'MO_WIND_GLO_PHY_L4_NRT_012_004, Global Ocean Hourly Sea Surface Wind and Stress from Scatterometer and Model',\n 'MSG_AMVR02, Atmospheric Motion Vectors Climate Data Record Release 2 - MFG and MSG - 0 degree',\n 'MSG_CLM, Cloud Mask - MSG - 0 degree',\n 'MSG_CLM_IODC, Cloud Mask - MSG - Indian Ocean',\n 'MSG_GSAL2R02, GSA Level 2 Climate Data Record Release 2 - MFG and MSG - 0 degree',\n 'MSG_HRSEVIRI, High Rate SEVIRI Level 1.5 Image Data - MSG - 0 degree',\n 'MSG_HRSEVIRI_IODC, High Rate SEVIRI Level 1.5 Image Data - MSG - Indian Ocean',\n 'MSG_LSA_FRM, Fire Risk Map - Released Energy Based - MSG',\n 'MSG_LSA_LSTDE, Land Surface Temperature with Directional Effects - MSG',\n 'MSG_LSA_LST_CDR, Land Surface Temperature Climate Data Record - MSG',\n 'MSG_MSG15_RSS, Rapid Scan High Rate SEVIRI Level 1.5 Image Data - MSG',\n 'MSG_RSS_CLM, Rapid Scan Cloud Mask - MSG',\n 'S1_SAR_GRD, SENTINEL1 Level-1 Ground Range Detected',\n 'S1_SAR_SLC, SENTINEL1 Level-1 Single Look Complex',\n 'S2_MSI_L1C, SENTINEL2 Level-1C',\n 'S2_MSI_L2A, SENTINEL2 Level-2A',\n 'S3_EFR, SENTINEL3 EFR',\n 'S3_ERR, SENTINEL3 ERR',\n 'S3_LAN, SENTINEL3 SRAL Level-2 LAN',\n 'S3_OLCI_L2LFR, SENTINEL3 OLCI Level-2 Land Full Resolution',\n 'S3_OLCI_L2LRR, SENTINEL3 OLCI Level-2 Land Reduced Resolution',\n 'S3_OLCI_L2WFR, SENTINEL3 OLCI Level-2 Water Full Resolution',\n 'S3_OLCI_L2WRR, SENTINEL3 OLCI Level-2 Water Reduced Resolution',\n 'S3_SLSTR_L1RBT, SENTINEL3 SLSTR Level-1',\n 'S3_SLSTR_L2AOD, SENTINEL3 SLSTR Level-2 AOD',\n 'S3_SLSTR_L2FRP, SENTINEL3 SLSTR Level-2 FRP',\n 'S3_SLSTR_L2LST, SENTINEL3 SLSTR Level-2 LST',\n 'S3_SLSTR_L2WST, SENTINEL3 SLSTR Level-2 WST',\n 'S3_SRA, SENTINEL3 SRAL Level-1',\n 'S3_SRA_A, SENTINEL3 SRAL Level-1 SRA_A',\n 'S3_SRA_BS, SENTINEL3 SRAL Level-1 SRA_BS',\n 'S3_WAT, SENTINEL3 SRAL Level-2 WAT',\n 'S5P_L1B_IR_ALL, Sentinel-5 Precursor Level 1B Irradiances for the SWIR and UNV bands',\n 'S5P_L2_IR_ALL, Sentinel-5 Precursor Level 2 Data',\n 'SATELLITE_CARBON_DIOXIDE, Carbon dioxide data from 2002 to present derived from satellite observations',\n 'SATELLITE_METHANE, Methane data from 2003 to present derived from satellite observations',\n 'SATELLITE_SEA_ICE_CONCENTRATION, Sea ice concentration daily gridded data from 1978 to present derived from satellite observations',\n 'SATELLITE_SEA_ICE_EDGE_TYPE, Sea ice edge and type daily gridded data from 1978 to present derived from satellite observations',\n 'SATELLITE_SEA_ICE_THICKNESS, Sea ice thickness monthly gridded data for the Arctic from 2002 to present derived from satellite observations',\n 'SATELLITE_SEA_LEVEL_GLOBAL, Sea level gridded data from satellite observations for the global ocean',\n 'SEASONAL_MONTHLY_PL, Seasonal forecast monthly statistics on pressure levels',\n 'SEASONAL_MONTHLY_SL, Seasonal forecast monthly statistics on single levels',\n 'SEASONAL_ORIGINAL_PL, Seasonal forecast subdaily data on pressure levels',\n 'SEASONAL_ORIGINAL_SL, Seasonal forecast daily and subdaily data on single levels',\n 'SEASONAL_POSTPROCESSED_PL, Seasonal forecast anomalies on pressure levels',\n 'SEASONAL_POSTPROCESSED_SL, Seasonal forecast anomalies on single levels',\n 'SIS_HYDRO_MET_PROJ, Temperature and precipitation climate impact indicators from 1970 to 2100 derived from European climate projections',\n 'UERRA_EUROPE_SL, UERRA regional reanalysis for Europe on single levels from 1961 to 2019']","content_type":"text/plain"}}}],"visibility":"show","key":"FtZmfYc7ln"}],"visibility":"show","key":"QNy2H8xBqo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Search","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Bw8NRaGaT3"}],"identifier":"search","label":"Search","html_id":"search","implicit":true,"key":"Iy6pcn2JDj"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"To search we use the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"CFqLR40YLt"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"search","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"E0JdiH5z96"}],"key":"BKqdxCywrR"},{"type":"text","value":" method passing the ID of our dataset of interest and a geo-time filter.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"z5zeOHJx5A"}],"key":"FBjF5l75gd"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Bs3clu3R4f"},{"type":"emphasis","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"search","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Xq9OseCeqB"}],"key":"rCy9k9bjD3"},{"type":"text","value":" method returns a ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Ex1GwBKKPw"},{"type":"emphasis","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"SearchResult","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Bg5C84f8lG"}],"key":"UR34p7irPB"},{"type":"text","value":" object that stores the products obtained from a given page (default: page=1) and a given maximum number of items per page (default: items_per_page=20). The search_all() method can be used instead.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"SYwuQlJOXk"}],"key":"D86Td1KNVx"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"In the following cell, we change the default value of ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"BCmiNG3Bcn"},{"type":"emphasis","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"items_per_page","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"QIotu4bnra"}],"key":"c7bLUqamTL"},{"type":"text","value":" and define the search criteria to retrieve Sentinel-2 MSI Level-2 images over Sicily, first days of July 2024. Our goal is to check whether any effects of Mount Etna’s eruptions during that period are visible in the Sentinel-2 imagery.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"FCAbmAvwaQ"}],"key":"J9kN1wYA2G"}],"key":"SqLXCAcFU1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"search_criteria = {\n    \"provider\":\"dedl\",\n    \"productType\": \"EO.ESA.DAT.SENTINEL-2.MSI.L2A\",\n    \"start\": \"2024-07-04T07:00:00.00Z\",\n    \"end\": \"2024-07-08T07:00:00.00Z\",\n    \"geom\": {\"lonmin\": 12, \"latmin\": 37, \"lonmax\": 16, \"latmax\": 39},\n    \"count\": True,\n    \"items_per_page\": 50\n}","key":"ncaMqtVwEj"},{"type":"output","id":"QuzneGQ6YVpHnRrGKI3yS","data":[],"key":"VfboTjIG6m"}],"key":"bJhakcZmcf"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"products_first_page = dag.search(**search_criteria)","visibility":"show","key":"GGhbqcZmKS"},{"type":"output","id":"pnwrGuk-Bq5RB7Zxr_Xht","data":[],"visibility":"show","key":"g0HB5BzOzA"}],"visibility":"show","key":"WLZZ46SGDX"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Results are stored in a ‘SearchResult’ object that contains the details on the single search result.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GwvRY5nDFN"}],"key":"oTsXsc00il"}],"key":"zpv2lpNmax"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"products_first_page","visibility":"show","key":"wcWSXPCJnJ"},{"type":"output","id":"u1MsE0ELafI0UnIDwtUK9","data":[{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"e3f84b0074518d71aff59be64daf30ec","path":"/e3f84b0074518d71aff59be64daf30ec.html"},"text/plain":{"content":"SearchResult([EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T32SQF_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33STB_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33SVC_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33SWC_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33STC_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33SUD_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33SUA_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33STA_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33SWB_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33SUB_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33SWA_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T32SQG_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33SWD_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33SVD_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33SUC_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33SVB_20240705T122657, provider=dedl),\n              EOProduct(id=S2B_MSIL2A_20240705T094549_N0510_R079_T33SVA_20240705T122657, provider=dedl),\n              EOProduct(id=S2A_MSIL2A_20240707T094041_N0510_R036_T33SWC_20240707T131659, provider=dedl),\n              EOProduct(id=S2A_MSIL2A_20240707T094041_N0510_R036_T33SWB_20240707T131659, provider=dedl),\n              EOProduct(id=S2A_MSIL2A_20240707T094041_N0510_R036_T33SVA_20240707T131659, provider=dedl),\n              EOProduct(id=S2A_MSIL2A_20240707T094041_N0510_R036_T33SWD_20240707T131659, provider=dedl),\n              EOProduct(id=S2A_MSIL2A_20240707T094041_N0510_R036_T33SWA_20240707T131659, provider=dedl),\n              EOProduct(id=S2A_MSIL2A_20240707T094041_N0510_R036_T33SVC_20240707T131659, provider=dedl),\n              EOProduct(id=S2A_MSIL2A_20240707T094041_N0510_R036_T33SVB_20240707T131659, provider=dedl)])","content_type":"text/plain"}}}],"visibility":"show","key":"BMjDypboY6"}],"visibility":"show","key":"WKYOjZOFFZ"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"It is possible to list the metadata associated with a certain product, we choose the first one returned [0], and look into it.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jARkyoIesa"}],"key":"Isq6pHrcmx"}],"key":"xMOu74nzII"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"one_product = products_first_page[0]\none_product.properties.keys()","visibility":"show","key":"Ia0R8davxv"},{"type":"output","id":"P4REy6CEI3zK6RUoWRLwp","data":[{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/plain":{"content":"dict_keys(['abstract', 'instrument', 'platform', 'platformSerialIdentifier', 'processingLevel', 'keywords', 'sensorType', 'license', 'title', 'missionStartDate', 'productType', 'publicationDate', 'orbitNumber', 'cloudCover', 'modificationDate', 'sensorMode', 'startTimeFromAscendingNode', 'completionTimeFromAscendingNode', 'id', 'downloadLink', 'thumbnail', 'storageStatus', 'defaultGeometry', 'quicklook', 'providers', 'start_datetime', 'sat:absolute_orbit', 'sar:product_type', 'dedl:processorVersion', 'dedl:granuleIdentifier', 'dedl:tileIdentifier', 'dedl:sourceProduct', 'dedl:productGroupId', 'dedl:uid', 'dedl:origin', 'dedl:sourceProductOriginDate', 'dedl:endingDateTime', 'dedl:beginningDateTime', 'dedl:datastripId', 'dedl:scope'])","content_type":"text/plain"}}}],"visibility":"show","key":"WuWGKxUKyI"}],"visibility":"show","key":"i4KL76w6jQ"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"one_product.properties['cloudCover']","visibility":"show","key":"RGrsTWipu8"},{"type":"output","id":"lbfIWyGhzHE2oskzV4UoR","data":[{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/plain":{"content":"0.000265","content_type":"text/plain"}}}],"visibility":"show","key":"JsivJUzv6N"}],"visibility":"show","key":"edqCuzmmQF"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Filter","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AXLFxGJTLD"}],"identifier":"filter","label":"Filter","html_id":"filter","implicit":true,"key":"o9njFaYFBy"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"EODAG can filter the search result. We can then refine our initial search without asking the provider again.\nProducts can be filtered according to their properties or also with finer geometry filters.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"md0n64gdfF"}],"key":"QbWWQmY1im"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The following example shows how to filter products to keep only those whose cloud coverage is less than 20%. And then restrict the results to products containing a smaller area over the mount Etna.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"P3Mpvwg4tn"}],"key":"VslbfreFnI"}],"visibility":"show","key":"Td9BbLBybA"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s define now a smaller area around the mount Etna and a function to see the area on a map together with the results","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zi65rqnYnK"}],"key":"YxeHMXkHsb"}],"key":"DI8LVgikEb"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from eodag.crunch import FilterProperty\nfrom eodag.crunch import FilterOverlap\nimport shapely\nimport folium\nfrom shapely.geometry import Polygon\n\nsmall_geom = Polygon([[15.1, 37.7], [15.5, 37.7], [15.1, 37.75], [15.1, 37.75], [15.1, 37.7]])\n\nsmaller_area = {\"lonmin\": 15.1, \"latmin\": 37.7, \"lonmax\": 15.5, \"latmax\": 37.75}\n\nsearch_geometry = shapely.geometry.box(\n    smaller_area[\"lonmin\"],\n    smaller_area[\"latmin\"],\n    smaller_area[\"lonmax\"],\n    smaller_area[\"latmax\"],\n)","visibility":"show","key":"YhLI1SsuwG"},{"type":"output","id":"qA5igteJNCU8pEgIKQgoq","data":[],"visibility":"show","key":"dtdIHXmohL"}],"visibility":"show","key":"fK2AtPGe8J"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"\ndef create_search_result_map(search_results, extent):\n    \"\"\"Small utility to create an interactive map with folium\n    that displays an extent in red and EO Producs in blue\"\"\"\n    fmap = folium.Map([38, 14], zoom_start=7)\n    folium.GeoJson(\n        extent,\n        style_function=lambda x: dict(color=\"red\")\n    ).add_to(fmap)\n    folium.GeoJson(\n        search_results\n    ).add_to(fmap)\n    return fmap","visibility":"show","key":"pejNtMTCGG"},{"type":"output","id":"m4k3JIJQpV1DeS3QoaNaF","data":[],"visibility":"show","key":"C3qawJiSVh"}],"visibility":"show","key":"hM6HiU0BIt"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# Crunch the results\nfiltered_results = products_first_page.crunch(FilterProperty({\"cloudCover\": 20, \"operator\" : \"lt\"}))\n\nprint(f\"Got now {len(filtered_results)} products after filtering by cloudCover.\")","visibility":"show","key":"jwYFWDthcs"},{"type":"output","id":"8HOlZ-3D6-UlI4QcRKhVh","data":[{"name":"stdout","output_type":"stream","text":"Got now 22 products after filtering by cloudCover.\n"}],"visibility":"show","key":"yvSCi3rFqP"}],"visibility":"show","key":"nhwBkovkYU"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"filtered_products = filtered_results.crunch(\n    FilterOverlap(dict(contains=True)),\n    geometry=small_geom\n)\nprint(f\"Got now {len(filtered_products)} products after filtering by geometry.\")","visibility":"show","key":"ftenEeQlc3"},{"type":"output","id":"6_D_sfO1hqixN2eyRuQQy","data":[{"name":"stdout","output_type":"stream","text":"Got now 1 products after filtering by geometry.\n"}],"visibility":"show","key":"jxYSsQnNoI"}],"visibility":"show","key":"xBBaVMI7P4"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Let’s use the function defined to see the area defined on a map (red) together with the initial results (blue) filtered by cloud coverage and geometry (green).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"l08wwAsk6d"}],"key":"TbYkU7dSqC"}],"key":"fIL7aMuzdy"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fmap = create_search_result_map(products_first_page, search_geometry)\n# Create a layer that represents the filtered products in green\nfolium.GeoJson(\n    filtered_products,\n    style_function=lambda x: dict(color=\"green\")\n).add_to(fmap)\nfmap\n","visibility":"show","key":"tawiBDfCJa"},{"type":"output","id":"7lABiP07K_6OCOPj-Hlbh","data":[{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"f96c35aba8f6d310ae8fd78ffc31653b","path":"/f96c35aba8f6d310ae8fd78ffc31653b.html"},"text/plain":{"content":"<folium.folium.Map at 0x7f0b9a4b71d0>","content_type":"text/plain"}}}],"visibility":"show","key":"zu0sg9ltoA"}],"visibility":"show","key":"PRHoH8kNxD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Download","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bknVrOvY3n"}],"identifier":"download","label":"Download","html_id":"download","implicit":true,"key":"WNmoh859T3"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Before downloading any product, it can be useful to have a quick look at them.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"gsLT9kMmdd"}],"key":"GsaoRYqHiF"}],"key":"ouriiC9E8I"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nimport matplotlib.image as mpimg\n\nquicklooks_dir = os.path.join(workspace, \"quicklooks\")\nif not os.path.isdir(quicklooks_dir):\n    os.mkdir(quicklooks_dir)\n\n","visibility":"show","key":"S6cuIN8Ufw"},{"type":"output","id":"Vinq2klYlIuhOw8czjRw1","data":[],"visibility":"show","key":"ML0HCjsF90"}],"visibility":"show","key":"qLdEVwdQA8"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"fig = plt.figure(figsize=(20, 40))\nfor i, product in enumerate(filtered_products, start=1):\n\n    # This line takes care of downloading the quicklook\n    quicklook_path = product.get_quicklook()\n    \n    img = mpimg.imread(quicklook_path)\n    ax = fig.add_subplot(8, 2, i)\n    ax.set_title(product.properties['dedl:beginningDateTime'] + \"TILE: \" +product.properties['dedl:tileIdentifier'])\n    plt.imshow(img)\nplt.tight_layout()","visibility":"show","key":"X1BVXx3zRj"},{"type":"output","id":"gGDbQHtmX-6lkzBUd-5u7","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"86678c3118194bf889e25743375cd850\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"0.00B [00:00, ?B/s]","content_type":"text/plain"}}},{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a0141668ff376f21684786fc6b8209fd","path":"/a0141668ff376f21684786fc6b8209fd.png"},"text/plain":{"content":"<Figure size 2000x4000 with 1 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"Zvn6xWYuIC"}],"visibility":"show","key":"TncghDXNDs"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The quicklook shows effectively the ash plume caused by the eruptions.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s2sC2zRfL1"}],"key":"ZaGP4R0ogZ"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"EOProducts can be downloaded individually. The last image is going to be downloaded.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OTZknYVt8v"}],"key":"ZxpwPINxGE"}],"visibility":"show","key":"zmyh2PRpvm"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"product_to_download = filtered_products[-1]\nproduct_path = dag.download(product_to_download)\nproduct_path","visibility":"show","key":"Rxl9bW8ApV"},{"type":"output","id":"IVlrq6nRPDjAaz7C0I7Q9","data":[{"output_type":"display_data","metadata":{},"data":{"application/vnd.jupyter.widget-view+json":{"content":"{\"model_id\":\"b46c6768e308427892072634830a3a1e\",\"version_major\":2,\"version_minor\":0}","content_type":"application/vnd.jupyter.widget-view+json"},"text/plain":{"content":"0.00B [00:00, ?B/s]","content_type":"text/plain"}}},{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"text/plain":{"content":"'/home/jovyan/dev-branch/DestinE-DataLake-Lab/HDA/EODAG/eodag_workspace/S2A_MSIL2A_20240707T094041_N0510_R036_T33SWB_20240707T131659'","content_type":"text/plain"}}}],"visibility":"show","key":"pNWksNaT2X"}],"visibility":"show","key":"NsUBwyvC8J"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The location property of this product now points to a local path.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ge3BJ3vdC7"}],"key":"tOzj7xnT4q"}],"key":"oa6SjGyNId"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"product_to_download.location","visibility":"show","key":"rZQ1iaUeuK"},{"type":"output","id":"bc4-gAVTeOZVT0igBWg9u","data":[{"output_type":"execute_result","execution_count":21,"metadata":{},"data":{"text/plain":{"content":"'file:///home/jovyan/dev-branch/DestinE-DataLake-Lab/HDA/EODAG/eodag_workspace/S2A_MSIL2A_20240707T094041_N0510_R036_T33SWB_20240707T131659'","content_type":"text/plain"}}}],"visibility":"show","key":"DprJtIOU6P"}],"visibility":"show","key":"SwNG9pFgF3"}],"key":"ew9d6WDxnw"},"references":{"cite":{"order":[],"data":{}}}}