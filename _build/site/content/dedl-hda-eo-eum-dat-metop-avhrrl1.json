{"version":2,"kind":"Notebook","sha256":"4104a71fcb40551056453f1a32640e397542c5695041a79e0e8b584aa9f210b6","slug":"dedl-hda-eo-eum-dat-metop-avhrrl1","location":"/HDA/EUM_data/DEDL-HDA-EO.EUM.DAT.METOP.AVHRRL1.ipynb","dependencies":[],"frontmatter":{"title":"Destination Earth - AVHRR Level 1B Metop Global - Data Access using DEDL HDA","content_includes_title":true,"kernelspec":{"name":"python_dedl","display_name":"Python DEDL","language":"python"},"numbering":{"title":{"offset":2}},"thumbnail":"/b27bd30f978ddf0848f3ea0942070886.jpeg","exports":[{"format":"ipynb","filename":"DEDL-HDA-EO.EUM.DAT.METOP.AVHRRL1.ipynb","url":"/DEDL-HDA-EO.EUM.DAT.-dc7a5f47805e378c09b385e0e9e0bd3c.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"image","url":"/b27bd30f978ddf0848f3ea0942070886.jpeg","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"y6rtqlbJFb","urlSource":"https://github.com/destination-earth/DestinE-DataLake-Lab/blob/main/img/DestinE-banner.jpg?raw=true"}],"key":"E2GMKgziw7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Destination Earth - AVHRR Level 1B Metop Global - Data Access using DEDL HDA","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"W8FS6LhU1i"}],"identifier":"destination-earth-avhrr-level-1b-metop-global-data-access-using-dedl-hda","label":"Destination Earth - AVHRR Level 1B Metop Global - Data Access using DEDL HDA","html_id":"destination-earth-avhrr-level-1b-metop-global-data-access-using-dedl-hda","implicit":true,"key":"ukwvuAdbWm"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Author","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"hgbXl4WTde"}],"key":"Sd3TsnYjkT"},{"type":"text","value":": EUMETSAT ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"UCraN3dMOM"},{"type":"break","key":"APo9TVhPcd"},{"type":"text","value":"\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"yNfsE3QOaj"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Copyright","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DAcjpNC0eE"}],"key":"OkzYBSFWxv"},{"type":"text","value":": 2024 EUMETSAT ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"TYH48fh88Q"},{"type":"break","key":"VBF3dRnYJC"},{"type":"text","value":"\n","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"VeUh6q3TbH"},{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Licence","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ZxVyB56lzL"}],"key":"fLtKKc6DqU"},{"type":"text","value":": MIT ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Iz55zYLkSE"},{"type":"break","key":"nGW470GyW6"}],"key":"YvqnPcnyr3"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"The Advanced Very High Resolution Radiometer (AVHRR) operates at 5 different channels simultaneously in the visible and infrared bands. Channel 3 switches between 3a and 3b for daytime and nighttime. As a high-resolution imager (about 1.1 km near nadir) its main purpose is to provide cloud and surface information such as cloud coverage, cloud top temperature, surface temperature over land and sea, and vegetation or snow/ice.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"yJKXtEcfdK"}],"key":"e5sI1Bswcm"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"link","url":"https://hda.data.destination-earth.eu/ui/dataset/EO.EUM.DAT.METOP.AVHRRL1","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"DestinE Data Lake HDA","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"oQdFGHLLqF"}],"urlSource":"https://hda.data.destination-earth.eu/ui/dataset/EO.EUM.DAT.METOP.AVHRRL1","key":"NRZuHao3kK"}],"key":"eD6sdalAZr"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"link","url":"https://navigator.eumetsat.int/product/EO:EUM:DAT:METOP:AVHRRL1","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"AVHRR Level 1B - Metop - Global","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"zDaasa6zOy"}],"urlSource":"https://navigator.eumetsat.int/product/EO:EUM:DAT:METOP:AVHRRL1","key":"QXgy1anqk9"}],"key":"LxLPg4Vx3X"}],"key":"IpF3JuDkP3"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-block alert-success","children":[{"type":"heading","depth":3,"children":[{"type":"text","value":"How to access and visualize AVHRR Level 1B Metop Global","key":"vhpxSotWG5"}],"identifier":"how-to-access-and-visualize-avhrr-level-1b-metop-global","label":"How to access and visualize AVHRR Level 1B Metop Global","html_id":"how-to-access-and-visualize-avhrr-level-1b-metop-global","implicit":true,"key":"SkSfIMM9Ke"},{"type":"text","value":"This notebook demonstrates how to search and access Metop data using HDA and how to read, process and visualize it using satpy","key":"Qi6SvtCdxP"}],"key":"YeAQnBu4Nv"}],"key":"s2uHvyAOLa"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Throughout this notebook, you will learn:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"EV7ziKz4sG"}],"key":"bLcmVGUYIk"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Authenticate","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"mVwtEgeVlW"}],"identifier":"authenticate","label":"Authenticate","kind":"heading","template":"{name}","resolved":true,"html_id":"authenticate","key":"V6KPY2iVSG"},{"type":"text","value":": How to authenticate for searching and access ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"okOlUbTyFa"},{"type":"emphasis","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"pi4iAE32LN"}],"key":"MtRcOuVwlW"},{"type":"text","value":" collections.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"OAbrTSTvhi"}],"key":"PABMfwryzS"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Search Metop AVHRR data","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"Xivkvs5k9p"}],"identifier":"search","label":"Search","kind":"heading","template":"{name}","resolved":true,"html_id":"search","remote":true,"url":"/hda-eodag-full-version","dataUrl":"/hda-eodag-full-version.json","key":"OH6wNlvJNv"},{"type":"text","value":":  How to search ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"yVFdEGk5aP"},{"type":"emphasis","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"d63ZVrMrrl"}],"key":"Iu0O3XE7gk"},{"type":"text","value":" data using datetime and bbox filters.","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"xW3XaT7b4r"}],"key":"UAG9Fe5ZuV"},{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"crossReference","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Download Metop AVHRR data","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"PShch7SQWr"}],"identifier":"download","label":"Download","kind":"heading","template":"{name}","resolved":true,"html_id":"download","remote":true,"url":"/hda-eodag-full-version","dataUrl":"/hda-eodag-full-version.json","key":"sZUA8uQkeL"},{"type":"text","value":": How to download ","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"tNndVZhXhG"},{"type":"emphasis","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"DEDL","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"K37mTpA33Q"}],"key":"myNmekDVDf"},{"type":"text","value":" data through HDA.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"AkbezcJgYf"}],"key":"i5bKHv0vuU"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"link","url":"#Satpy","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Read and visualize Metop AVHRR data","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"O7OfSOTTts"}],"urlSource":"#Satpy","key":"hJsMjHJcTq"},{"type":"text","value":": How to load process and visualize Metop AVHRR data using Satpy.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"S2ook0QW9H"}],"key":"Aiq3ZqGKDg"}],"key":"TtE5zFRBcV"}],"key":"dN4tYZtRXE"},{"type":"block","kind":"notebook-content","children":[{"type":"div","class":"alert alert-block alert-warning","children":[{"type":"strong","children":[{"type":"text","value":"Prerequisites:","key":"euRDo9VXpZ"}],"key":"bEUtIBShVr"},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"For filtering data inside collections : ","key":"EHlFRtNCrW"},{"type":"link","url":"https://platform.destine.eu/","children":[{"type":"text","value":"DestinE user account","key":"Bt8AhccKGK"}],"urlSource":"https://platform.destine.eu/","key":"Ehw1Ya10YK"}],"key":"WTnnwJ23kU"}],"key":"YhZm66sT0o"}],"key":"FjuFB6P59f"}],"key":"eR4HpW8rAo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Authenticate","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"whg5lgD90s"}],"identifier":"authenticate","label":"Authenticate","html_id":"authenticate","implicit":true,"key":"urk6ewCwaG"}],"key":"TC8ABDpxya"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import destinelab as deauth","visibility":"show","key":"SxKv0Vpo0m"},{"type":"output","id":"L8W0iHr69-yL2Za4d0Vki","data":[],"visibility":"show","key":"B7Aad7NdQA"}],"visibility":"show","key":"rZqBhZg9N8"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import requests\nimport json\nimport os\nfrom getpass import getpass","visibility":"show","key":"uaaibrycBC"},{"type":"output","id":"4E9Fo4Mitr-TZHOttdCZq","data":[],"visibility":"show","key":"dO364ebCBu"}],"visibility":"show","key":"iCIHHXoG90"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"DESP_USERNAME = input(\"Please input your DESP username or email: \")\nDESP_PASSWORD = getpass(\"Please input your DESP password: \")\n\nauth = deauth.AuthHandler(DESP_USERNAME, DESP_PASSWORD)\naccess_token = auth.get_token()\nif access_token is not None:\n    print(\"DEDL/DESP Access Token Obtained Successfully\")\nelse:\n    print(\"Failed to Obtain DEDL/DESP Access Token\")\n\nauth_headers = {\"Authorization\": f\"Bearer {access_token}\"}","visibility":"show","key":"xbODAKBFDr"},{"type":"output","id":"mMnUU8I5OkqTjigmcHCUt","data":[{"name":"stdin","output_type":"stream","text":"Please input your DESP username or email:  eum-dedl-user\nPlease input your DESP password:  ········\n"},{"name":"stdout","output_type":"stream","text":"Response code: 200\nDEDL/DESP Access Token Obtained Successfully\n"}],"visibility":"show","key":"AuxQ2Xc5LO"}],"visibility":"show","key":"BEN9qUzjY1"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Search Metop AVHRR data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"puQBI7uJVD"}],"identifier":"search-metop-avhrr-data","label":"Search Metop AVHRR data","html_id":"search-metop-avhrr-data","implicit":true,"key":"mnn2Lzmfr1"}],"visibility":"show","key":"HMLmvzNvQt"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"search_response = requests.post(\"https://hda.data.destination-earth.eu/stac/search\", headers=auth_headers, json={\n        \"BBox\":  [-5 ,31,20,51],\n    \"collections\": [\"EO.EUM.DAT.METOP.AVHRRL1\"],\n    \"datetime\": \"2024-07-04T11:00:00Z/2024-07-04T13:00:00Z\"\n})\n","visibility":"show","key":"OnPQmoxtid"},{"type":"output","id":"t70HUS1GsjPkVEpVgQAzp","data":[],"visibility":"show","key":"JJDgWTMd78"}],"visibility":"show","key":"r2HJsHl3A7"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The first item in the search results","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"baFwsJbMxB"}],"key":"LUCvLvsxqr"}],"key":"NuRt8nDrpr"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from IPython.display import JSON\n\nJSON(search_response.json()[\"features\"][0])","visibility":"show","key":"gtEQaHMsi0"},{"type":"output","id":"liDp7PiCNuY7Xu155EdAP","data":[{"output_type":"execute_result","execution_count":17,"metadata":{"application/json":{"expanded":false,"root":"root"}},"data":{"application/json":{"content":"{\"assets\":{\"AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z.nat\":{\"alternate\":{\"origin\":{\"href\":\"https://api.eumetsat.int/data/download/1.0.0/collections/EO%3AEUM%3ADAT%3AMETOP%3AAVHRRL1/products/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/entry?name=AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z.nat\",\"title\":\"Origin asset link\",\"type\":\"Link\"}},\"href\":\"https://hda.data.destination-earth.eu/stac/collections/EO.EUM.DAT.METOP.AVHRRL1/items/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/download/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z.nat?provider=eumetsat\",\"mediaType\":\"application/octet-stream\",\"title\":\"AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z.nat\",\"type\":\"Link\"},\"EOPMetadata.xml\":{\"alternate\":{\"origin\":{\"href\":\"https://api.eumetsat.int/data/download/1.0.0/collections/EO%3AEUM%3ADAT%3AMETOP%3AAVHRRL1/products/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/entry?name=EOPMetadata.xml\",\"title\":\"Origin asset link\",\"type\":\"Link\"}},\"href\":\"https://hda.data.destination-earth.eu/stac/collections/EO.EUM.DAT.METOP.AVHRRL1/items/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/download/EOPMetadata.xml?provider=eumetsat\",\"mediaType\":\"application/xml\",\"title\":\"EOPMetadata.xml\",\"type\":\"Link\"},\"downloadLink\":{\"alternate\":{\"origin\":{\"href\":\"https://api.eumetsat.int/data/download/1.0.0/collections/EO%3AEUM%3ADAT%3AMETOP%3AAVHRRL1/products/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z\",\"title\":\"Origin asset link\"}},\"href\":\"https://hda.data.destination-earth.eu/stac/collections/EO.EUM.DAT.METOP.AVHRRL1/items/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/download?provider=eumetsat\",\"storage:tier\":\"ONLINE\",\"title\":\"Download link\",\"type\":\"application/zip\"},\"manifest.xml\":{\"alternate\":{\"origin\":{\"href\":\"https://api.eumetsat.int/data/download/1.0.0/collections/EO%3AEUM%3ADAT%3AMETOP%3AAVHRRL1/products/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/entry?name=manifest.xml\",\"title\":\"Origin asset link\",\"type\":\"Link\"}},\"href\":\"https://hda.data.destination-earth.eu/stac/collections/EO.EUM.DAT.METOP.AVHRRL1/items/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/download/manifest.xml?provider=eumetsat\",\"mediaType\":\"application/xml\",\"title\":\"manifest.xml\",\"type\":\"Link\"}},\"bbox\":[-180,-90,180,90],\"collection\":\"EO.EUM.DAT.METOP.AVHRRL1\",\"geometry\":{\"coordinates\":[[[-15.716,55.114],[-15.667,53.295],[-15.654,51.473],[-15.673,49.65],[-15.72,47.826],[-15.793,45.998],[-15.888,44.169],[-16.004,42.34],[-16.138,40.509],[-16.291,38.675],[-16.459,36.842],[-16.643,35.008],[-16.842,33.171],[-17.054,31.333],[-17.279,29.496],[-17.516,27.658],[-17.766,25.818],[-18.028,23.978],[-18.302,22.138],[-18.587,20.298],[-18.884,18.456],[-19.193,16.616],[-19.512,14.776],[-19.844,12.935],[-20.187,11.094],[-20.543,9.255],[-20.91,7.417],[-21.29,5.579],[-21.683,3.741],[-22.09,1.906],[-22.51,0.072],[-22.945,-1.761],[-23.395,-3.592],[-23.861,-5.421],[-24.343,-7.247],[-24.842,-9.072],[-25.36,-10.893],[-25.897,-12.71],[-26.455,-14.524],[-27.035,-16.336],[-27.637,-18.142],[-28.264,-19.943],[-28.918,-21.741],[-29.601,-23.533],[-30.313,-25.318],[-31.058,-27.096],[-31.839,-28.869],[-32.658,-30.634],[-33.518,-32.389],[-34.423,-34.135],[-35.377,-35.872],[-36.384,-37.597],[-37.449,-39.309],[-38.578,-41.008],[-39.776,-42.692],[-41.051,-44.359],[-42.41,-46.007],[-43.862,-47.634],[-45.416,-49.239],[-47.084,-50.816],[-48.876,-52.364],[-50.807,-53.88],[-52.891,-55.358],[-55.142,-56.793],[-57.579,-58.18],[-60.219,-59.513],[-63.079,-60.784],[-66.177,-61.984],[-69.527,-63.104],[-73.143,-64.135],[-77.029,-65.064],[-81.185,-65.88],[-85.598,-66.572],[-90.243,-67.128],[-95.08,-67.537],[-100.058,-67.793],[-105.113,-67.89],[-110.174,-67.824],[-115.172,-67.599],[-120.041,-67.219],[-124.727,-66.69],[-129.187,-66.024],[-133.395,-65.231],[-137.335,-64.322],[-141.002,-63.311],[-144.404,-62.206],[-147.55,-61.02],[-150.455,-59.762],[-153.136,-58.441],[-155.611,-57.063],[-157.898,-55.636],[-160.012,-54.166],[-161.972,-52.657],[-163.79,-51.114],[-165.482,-49.54],[-167.057,-47.941],[-168.528,-46.317],[-169.905,-44.672],[-171.195,-43.008],[-172.408,-41.327],[-173.55,-39.63],[-174.627,-37.918],[-175.645,-36.195],[-176.608,-34.46],[-177.523,-32.714],[-178.392,-30.958],[-179.218,-29.195],[-180,-27.437725],[-180,-90],[180,-90],[180,-27.437725],[179.994,-27.424],[179.242,-25.644],[178.523,-23.858],[177.835,-22.067],[177.176,-20.27],[176.544,-18.467],[175.936,-16.66],[175.353,-14.85],[174.791,-13.034],[174.249,-11.214],[173.728,-9.393],[173.225,-7.569],[172.74,-5.741],[172.271,-3.91],[171.818,-2.079],[171.38,-0.245],[170.957,1.591],[170.548,3.428],[170.152,5.266],[169.77,7.105],[169.4,8.946],[169.042,10.787],[168.696,12.628],[168.363,14.47],[168.041,16.314],[167.73,18.155],[167.431,19.997],[167.144,21.84],[166.868,23.683],[166.604,25.523],[166.352,27.364],[166.112,29.205],[165.885,31.045],[165.67,32.883],[165.47,34.721],[165.284,36.558],[165.112,38.394],[164.957,40.228],[164.82,42.061],[164.701,43.893],[164.602,45.723],[164.526,47.551],[164.475,49.378],[164.452,51.204],[164.459,53.026],[164.503,54.846],[164.587,56.665],[164.718,58.48],[164.904,60.293],[165.156,62.102],[165.486,63.908],[165.91,65.709],[166.452,67.504],[167.139,69.294],[168.013,71.075],[169.129,72.846],[170.569,74.604],[172.453,76.344],[174.967,78.058],[178.407,79.734],[180,80.332523],[180,90],[-180,90],[-180,80.332523],[-176.732,81.348],[-169.602,82.862],[-158.8,84.194],[-142.494,85.193],[-120.517,85.624],[-97.87,85.327],[-80.374,84.417],[-68.662,83.133],[-60.963,81.647],[-55.75,80.048],[-52.085,78.382],[-49.422,76.675],[-47.435,74.94],[-45.921,73.186],[-44.75,71.417],[-43.835,69.638],[-43.115,67.851],[-42.549,66.057],[-42.103,64.257],[-40.366,64.319],[-38.814,64.357],[-37.412,64.377],[-36.136,64.384],[-34.966,64.38],[-33.886,64.368],[-32.884,64.35],[-31.951,64.327],[-31.077,64.3],[-30.257,64.27],[-29.484,64.237],[-28.753,64.202],[-28.06,64.166],[-27.402,64.128],[-26.774,64.089],[-26.175,64.049],[-25.602,64.009],[-25.052,63.968],[-24.524,63.926],[-24.016,63.885],[-23.526,63.842],[-23.052,63.8],[-22.595,63.757],[-22.152,63.714],[-21.722,63.671],[-21.304,63.628],[-20.898,63.585],[-20.503,63.542],[-20.117,63.498],[-19.741,63.455],[-19.373,63.411],[-19.013,63.367],[-18.661,63.324],[-18.316,63.28],[-17.977,63.236],[-17.643,63.191],[-17.316,63.147],[-16.993,63.102],[-16.676,63.058],[-16.362,63.013],[-16.053,62.967],[-15.748,62.922],[-15.445,62.876],[-15.146,62.83],[-14.85,62.784],[-14.556,62.737],[-14.265,62.69],[-13.975,62.642],[-13.687,62.594],[-13.401,62.545],[-13.116,62.496],[-12.831,62.446],[-12.548,62.396],[-12.265,62.345],[-11.982,62.293],[-11.7,62.241],[-11.417,62.188],[-11.134,62.134],[-10.85,62.079],[-10.566,62.023],[-10.28,61.966],[-9.993,61.908],[-9.704,61.848],[-9.413,61.788],[-9.12,61.726],[-8.825,61.663],[-8.527,61.598],[-8.226,61.532],[-7.922,61.464],[-7.614,61.395],[-7.302,61.323],[-6.986,61.249],[-6.665,61.173],[-6.339,61.095],[-6.007,61.014],[-5.67,60.93],[-5.326,60.844],[-4.975,60.754],[-4.616,60.661],[-4.249,60.564],[-3.874,60.464],[-3.489,60.359],[-3.094,60.249],[-2.687,60.134],[-2.269,60.014],[-1.837,59.887],[-1.391,59.754],[-0.93,59.613],[-0.452,59.465],[0.045,59.307],[0.562,59.139],[1.102,58.96],[1.666,58.768],[2.258,58.562],[2.881,58.339],[3.538,58.098],[4.235,57.835],[4.976,57.546],[5.769,57.228],[6.621,56.873],[7.545,56.474],[8.555,56.021],[10.833,57.476],[13.307,58.883],[15.996,60.235],[18.918,61.524],[22.093,62.74],[25.541,63.875],[29.273,64.916],[33.297,65.851],[37.612,66.669],[42.204,67.356],[47.042,67.9],[52.081,68.29],[57.261,68.518],[62.509,68.579],[67.746,68.471],[72.894,68.197],[77.883,67.763],[82.656,67.178],[87.173,66.454],[91.409,65.601],[95.351,64.635],[99.003,63.567],[102.374,62.408],[105.478,61.17],[108.333,59.863],[110.959,58.494],[113.378,57.072],[115.606,55.603],[117.662,54.094],[119.564,52.548],[121.327,50.97],[122.964,49.364],[124.487,47.733],[125.909,46.08],[127.238,44.406],[128.483,42.716],[129.652,41.01],[130.753,39.289],[131.791,37.555],[132.771,35.811],[133.699,34.055],[134.58,32.289],[135.416,30.516],[136.212,28.735],[136.971,26.947],[137.695,25.151],[138.387,23.35],[139.049,21.545],[139.684,19.734],[140.293,17.917],[140.877,16.099],[141.439,14.277],[141.98,12.45],[142.501,10.62],[143.002,8.79],[143.487,6.956],[143.954,5.12],[144.405,3.282],[144.84,1.444],[145.261,-0.397],[145.668,-2.239],[146.061,-4.081],[146.441,-5.924],[146.809,-7.767],[147.164,-9.613],[147.507,-11.456],[147.838,-13.299],[148.158,-15.144],[148.466,-16.989],[148.762,-18.831],[149.048,-20.673],[149.322,-22.516],[149.584,-24.358],[149.835,-26.197],[150.073,-28.037],[150.3,-29.876],[150.514,-31.712],[150.715,-33.548],[150.902,-35.382],[151.074,-37.216],[151.231,-39.046],[151.372,-40.876],[151.494,-42.704],[151.598,-44.53],[151.681,-46.354],[151.74,-48.176],[151.774,-49.996],[151.778,-51.814],[151.751,-53.628],[151.686,-55.441],[151.579,-57.251],[151.422,-59.058],[151.208,-60.861],[150.925,-62.661],[150.558,-64.457],[150.092,-66.247],[149.501,-68.032],[148.754,-69.81],[147.806,-71.579],[146.598,-73.337],[145.038,-75.08],[142.993,-76.803],[140.255,-78.498],[136.492,-80.148],[131.142,-81.73],[123.256,-83.195],[111.319,-84.45],[93.663,-85.324],[71.175,-85.584],[49.642,-85.13],[33.696,-84.127],[23.083,-82.799],[16.039,-81.295],[11.212,-79.691],[7.78,-78.026],[5.264,-76.323],[3.373,-74.594],[1.923,-72.847],[0.795,-71.086],[-0.091,-69.314],[-0.79,-67.536],[-1.343,-65.75],[-1.78,-63.958],[-2.121,-62.162],[-2.384,-60.363],[-2.582,-58.559],[-2.724,-56.752],[-2.818,-54.943],[-2.872,-53.131],[-2.891,-51.316],[-2.878,-49.499],[-2.837,-47.68],[-2.771,-45.859],[-2.682,-44.035],[-2.573,-42.21],[-2.446,-40.384],[-2.301,-38.555],[-2.14,-36.724],[-1.963,-34.893],[-1.773,-33.06],[-1.569,-31.225],[-1.351,-29.389],[-1.122,-27.552],[-0.88,-25.715],[-0.627,-23.875],[-0.361,-22.035],[-0.085,-20.195],[0.203,-18.354],[0.503,-16.511],[0.814,-14.669],[1.136,-12.827],[1.47,-10.985],[1.816,-9.141],[2.174,-7.299],[2.544,-5.459],[2.927,-3.616],[3.323,-1.775],[3.733,0.064],[4.157,1.902],[4.597,3.74],[5.051,5.576],[5.522,7.409],[6.01,9.241],[6.516,11.071],[7.042,12.898],[7.587,14.721],[8.154,16.542],[8.744,18.359],[9.359,20.172],[9.999,21.979],[10.668,23.784],[11.367,25.582],[12.099,27.374],[12.865,29.159],[13.67,30.939],[14.516,32.709],[15.407,34.471],[16.347,36.223],[17.34,37.965],[18.392,39.695],[19.507,41.411],[20.693,43.113],[21.957,44.799],[23.306,46.467],[24.749,48.114],[23.82,48.482],[22.978,48.805],[22.206,49.092],[21.494,49.35],[20.832,49.583],[20.214,49.795],[19.634,49.989],[19.088,50.168],[18.571,50.334],[18.081,50.489],[17.614,50.632],[17.168,50.767],[16.742,50.894],[16.333,51.013],[15.94,51.126],[15.562,51.233],[15.196,51.334],[14.843,51.431],[14.501,51.523],[14.17,51.611],[13.848,51.696],[13.535,51.776],[13.23,51.854],[12.932,51.929],[12.642,52.001],[12.357,52.07],[12.079,52.138],[11.807,52.203],[11.539,52.266],[11.276,52.327],[11.018,52.386],[10.764,52.444],[10.513,52.5],[10.266,52.555],[10.022,52.608],[9.781,52.661],[9.542,52.712],[9.306,52.761],[9.072,52.81],[8.84,52.858],[8.609,52.905],[8.38,52.952],[8.152,52.997],[7.926,53.042],[7.7,53.086],[7.475,53.129],[7.25,53.172],[7.026,53.214],[6.801,53.255],[6.577,53.296],[6.353,53.337],[6.127,53.377],[5.902,53.417],[5.675,53.457],[5.447,53.496],[5.219,53.535],[4.988,53.574],[4.756,53.612],[4.522,53.65],[4.286,53.688],[4.048,53.726],[3.807,53.764],[3.564,53.801],[3.317,53.839],[3.067,53.876],[2.813,53.913],[2.555,53.951],[2.293,53.988],[2.027,54.025],[1.755,54.062],[1.478,54.1],[1.195,54.137],[0.906,54.175],[0.611,54.212],[0.308,54.25],[-0.003,54.288],[-0.322,54.325],[-0.65,54.363],[-0.988,54.401],[-1.336,54.44],[-1.696,54.478],[-2.069,54.516],[-2.454,54.555],[-2.855,54.594],[-3.271,54.632],[-3.705,54.671],[-4.157,54.71],[-4.631,54.748],[-5.128,54.787],[-5.65,54.825],[-6.2,54.863],[-6.782,54.9],[-7.399,54.936],[-8.056,54.971],[-8.758,55.004],[-9.511,55.035],[-10.323,55.064],[-11.204,55.088],[-12.165,55.108],[-13.223,55.121],[-14.397,55.124],[-15.716,55.114]]],\"type\":\"Polygon\"},\"id\":\"AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z\",\"links\":[{\"href\":\"https://hda.data.destination-earth.eu/stac/collections/EO.EUM.DAT.METOP.AVHRRL1/items/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z\",\"rel\":\"self\",\"title\":\"AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z\"},{\"href\":\"https://hda.data.destination-earth.eu/stac/\",\"rel\":\"root\"},{\"href\":\"https://hda.data.destination-earth.eu/stac/collections/EO.EUM.DAT.METOP.AVHRRL1\",\"rel\":\"parent\",\"title\":\"EO.EUM.DAT.METOP.AVHRRL1\"},{\"href\":\"https://hda.data.destination-earth.eu/stac/collections/EO.EUM.DAT.METOP.AVHRRL1\",\"rel\":\"collection\",\"title\":\"EO.EUM.DAT.METOP.AVHRRL1\"}],\"properties\":{\"constellation\":\"Metop-C\",\"datetime\":\"2024-07-04T09:52:03Z\",\"description\":\"The Advanced Very High Resolution Radiometer (AVHRR) operates at 5 different channels simultaneously in the visible and infrared bands, with wavelengths specified in the instrument channels description. Channel 3 switches between 3a and 3b for daytime and nighttime. As a high-resolution imager (about 1.1 km near nadir) its main purpose is to provide cloud and surface information such as cloud coverage, cloud top temperature, surface temperature over land and sea, and vegetation or snow/ice. In addition, AVHRR products serve as input for the level 2 processing of IASI and ATOVS.\",\"end_datetime\":\"2024-07-04T11:31:03Z\",\"eumetsat:alias\":\"EO.EUM.DAT.METOP.AVHRRL1\",\"eumetsat:links\":{\"alternates\":[{\"href\":\"https://api.eumetsat.int/data/download/1.0.0/collections/EO%3AEUM%3ADAT%3AMETOP%3AAVHRRL1/products/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/metadata\",\"mediaType\":\"application/xml\",\"title\":\"Metadata\",\"type\":\"Link\"},{\"href\":\"https://api.eumetsat.int/data/download/1.0.0/collections/EO%3AEUM%3ADAT%3AMETOP%3AAVHRRL1/products/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/metadata?format=json\",\"mediaType\":\"application/json\",\"title\":\"Metadata in JSON format\",\"type\":\"Link\"}],\"data\":[{\"href\":\"https://api.eumetsat.int/data/download/1.0.0/collections/EO%3AEUM%3ADAT%3AMETOP%3AAVHRRL1/products/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z\",\"mediaType\":\"application/zip\",\"title\":\"Product download\",\"type\":\"Link\"}],\"sip-entries\":[{\"href\":\"https://api.eumetsat.int/data/download/1.0.0/collections/EO%3AEUM%3ADAT%3AMETOP%3AAVHRRL1/products/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/entry?name=EOPMetadata.xml\",\"mediaType\":\"application/xml\",\"title\":\"EOPMetadata.xml\",\"type\":\"Link\"},{\"href\":\"https://api.eumetsat.int/data/download/1.0.0/collections/EO%3AEUM%3ADAT%3AMETOP%3AAVHRRL1/products/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/entry?name=AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z.nat\",\"mediaType\":\"application/octet-stream\",\"title\":\"AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z.nat\",\"type\":\"Link\"},{\"href\":\"https://api.eumetsat.int/data/download/1.0.0/collections/EO%3AEUM%3ADAT%3AMETOP%3AAVHRRL1/products/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/entry?name=manifest.xml\",\"mediaType\":\"application/xml\",\"title\":\"manifest.xml\",\"type\":\"Link\"}],\"type\":\"Links\"},\"eumetsat:scope\":{\"discover\":null,\"download\":\"hda-public-data-access\",\"search\":\"hda-public-data-access\"},\"eumetsat:size\":399451,\"eumetsat:uid\":\"AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z\",\"instruments\":[\"AVHRR\"],\"license\":\"proprietary\",\"order:status\":\"succeeded\",\"oseo:parentIdentifier\":\"EO:EUM:DAT:METOP:AVHRRL1\",\"providers\":[{\"description\":\"EUMETSAT Data Store\",\"name\":\"eumetsat\",\"priority\":0,\"roles\":[\"host\"],\"url\":\"https://data.eumetsat.int\"}],\"sar:product_type\":\"AVHxxx1B\",\"sat:absolute_orbit\":29357,\"start_datetime\":\"2024-07-04T09:52:03Z\",\"updated\":\"2024-07-04T13:11:23.978Z\"},\"stac_extensions\":[\"https://stac-extensions.github.io/sat/v1.0.0/schema.json\",\"https://stac-extensions.github.io/sar/v1.0.0/schema.json\",\"https://stac-extensions.github.io/order/v1.1.0/schema.json\",\"https://hda.data.destination-earth.eu/stac/extensions/oseo/json-schema/schema.json\"],\"stac_version\":\"1.0.0\",\"type\":\"Feature\"}","content_type":"application/json"},"text/plain":{"content":"<IPython.core.display.JSON object>","content_type":"text/plain"}}}],"visibility":"show","key":"IjKEoguoMn"}],"visibility":"show","key":"SoSLuFUD6L"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Download Metop AVHRR data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DqiytYC2OZ"}],"identifier":"download-metop-avhrr-data","label":"Download Metop AVHRR data","html_id":"download-metop-avhrr-data","implicit":true,"key":"wNB0uEZ8XI"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"We can download now the returned data.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"abYHrLWhyf"}],"key":"aEzi3d2lgd"}],"key":"LFiWGFStRr"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"from tqdm import tqdm\nimport time\nimport zipfile\n\n#number of products to download:\nnptd=1\n\n# Define a list of assets to download\nfor i in range(0,nptd,1):\n    product=search_response.json()[\"features\"][i]\n    download_url = product[\"assets\"][\"downloadLink\"][\"href\"]\n    print(download_url)\n    filename = \"downloadLink\"\n    response = requests.get(download_url, headers=auth_headers)\n    total_size = int(response.headers.get(\"content-length\", 0))\n\n    print(f\"downloading {filename}\")\n\n    with tqdm(total=total_size, unit=\"B\", unit_scale=True) as progress_bar:\n        with open(filename, 'wb') as f:\n            for data in response.iter_content(1024):\n                progress_bar.update(len(data))\n                f.write(data)\n        \n    zf=zipfile.ZipFile(filename)\n    with zipfile.ZipFile(filename, 'r') as zip_ref:\n        zip_ref.extractall('.')","visibility":"show","key":"sGEAPym4wq"},{"type":"output","id":"OK-sDClvbx5pujUROIQE5","data":[{"name":"stdout","output_type":"stream","text":"https://hda.data.destination-earth.eu/stac/collections/EO.EUM.DAT.METOP.AVHRRL1/items/AVHR_xxx_1B_M03_20240704095203Z_20240704113103Z_N_O_20240704112753Z/download?provider=eumetsat\ndownloading downloadLink\n"},{"name":"stderr","output_type":"stream","text":"100%|██████████| 409M/409M [00:00<00:00, 593MB/s] \n"}],"visibility":"show","key":"YBKkyNWRmh"}],"visibility":"show","key":"EeaplRPne3"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"del response","visibility":"show","key":"g1ymsEqEH6"},{"type":"output","id":"DfuKr4TYFNHdvNGBu1KqK","data":[],"visibility":"show","key":"Z63gkV2Bgu"}],"visibility":"show","key":"p1NHoO0Yt9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Read and visualize Metop AVHRR data using Satpy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JQoEEj0WYD"}],"identifier":"read-and-visualize-metop-avhrr-data-using-satpy","label":"Read and visualize Metop AVHRR data using Satpy","html_id":"read-and-visualize-metop-avhrr-data-using-satpy","implicit":true,"key":"XHPXgIh38e"}],"key":"szdGK4UpRY"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"The Python package satpy supports reading and loading data from many input files.\nFor Metop data in the native format, we can use the satpy reader ‘avhrr_l1b_eps’.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Z0uBOwe8fD"}],"key":"m76fcyfdqU"}],"key":"oUmcmDaOTR"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"pip install --quiet satpy pyspectral","visibility":"show","key":"TBMn43F9md"},{"type":"output","id":"SMGaePaqiiSYz9ojGhD0L","data":[{"name":"stdout","output_type":"stream","text":"Note: you may need to restart the kernel to use updated packages.\n"}],"visibility":"show","key":"k8KkqYIphr"}],"visibility":"show","key":"mnPClRgAKO"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import os\nfrom glob import glob\n\nimport xarray as xr\nimport numpy as np\n\nimport matplotlib.pyplot as plt\nimport matplotlib.colors\nfrom matplotlib.axes import Axes\n\nimport satpy\nfrom satpy.scene import Scene\nfrom satpy.composites import GenericCompositor\nfrom satpy.writers import to_image\nfrom satpy.resample import get_area_def\nfrom satpy import available_readers\nfrom satpy import MultiScene\n\nimport pyresample\nimport pyspectral\n\nimport warnings\nwarnings.filterwarnings('ignore')\nwarnings.simplefilter(action = \"ignore\", category = RuntimeWarning)\n\nsatpy_installation_path=satpy.__path__\ndelimiter = \"\" \nsatpy_installation_path = delimiter.join(satpy_installation_path)","visibility":"show","key":"NRKr17ee7H"},{"type":"output","id":"Obsvvq3pu7yha_hmOKunF","data":[],"visibility":"show","key":"szUuGj71AU"}],"visibility":"show","key":"a2njBdPku1"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Read and load data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"toxhyqCBnt"}],"identifier":"read-and-load-data","label":"Read and load data","html_id":"read-and-load-data","implicit":true,"key":"Hrj6XOLfYW"}],"key":"SwntlOfhrT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Single scene","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IaztxEkTDz"}],"identifier":"single-scene","label":"Single scene","html_id":"single-scene","implicit":true,"key":"IEvDrpShMp"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"We can use the Scene constructor from the satpy library, a Scene object represents a single geographic region of data.\nOnce loaded we can list all the available bands (spectral channel) for that scene.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"mMEAcaBTZx"}],"key":"Vo1oL9R6UO"}],"key":"Eq1FXzBT8B"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"filenames = glob('./AVHR_xxx_1B_M0*.nat')\n#len(filenames)","visibility":"show","key":"caXkA6rPN7"},{"type":"output","id":"Zok7FoOuSngmCXso5KaDl","data":[],"visibility":"show","key":"O0BL5uiUVa"}],"visibility":"show","key":"s1lAvuMnCO"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# read the last file in filenames\nscn = Scene(reader='avhrr_l1b_eps', filenames=[filenames[-1]])\n# print available datasets\nscn.available_dataset_names()","visibility":"show","key":"xjgS3l7ES1"},{"type":"output","id":"pGPbMA-SWFhYdnYbmA0nZ","data":[{"output_type":"execute_result","execution_count":23,"metadata":{},"data":{"text/plain":{"content":"['1',\n '2',\n '3a',\n '3b',\n '4',\n '5',\n 'cloud_flags',\n 'latitude',\n 'longitude',\n 'satellite_azimuth_angle',\n 'satellite_zenith_angle',\n 'solar_azimuth_angle',\n 'solar_zenith_angle']","content_type":"text/plain"}}}],"visibility":"show","key":"U7kz1nnx0w"}],"visibility":"show","key":"ZRDPtgXey1"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We can then load the first and the second spectral channels and have a look to some info","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SpZf1Zeh0H"}],"key":"BKSqy1hzWb"}],"key":"GorQ5I0DR0"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"# load  \nscn.load(['1','2'])\nscn['1']","visibility":"show","key":"usWlbpO33s"},{"type":"output","id":"begx_Kvdj6RkNy9BDwaW1","data":[{"output_type":"execute_result","execution_count":24,"metadata":{},"data":{"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));\n  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));\n  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));\n  --xr-border-color: var(--jp-border-color2, #e0e0e0);\n  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);\n  --xr-background-color: var(--jp-layout-color0, white);\n  --xr-background-color-row-even: var(--jp-layout-color1, white);\n  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);\n}\n\nhtml[theme=dark],\nbody[data-theme=dark],\nbody.vscode-dark {\n  --xr-font-color0: rgba(255, 255, 255, 1);\n  --xr-font-color2: rgba(255, 255, 255, 0.54);\n  --xr-font-color3: rgba(255, 255, 255, 0.38);\n  --xr-border-color: #1F1F1F;\n  --xr-disabled-color: #515151;\n  --xr-background-color: #111111;\n  --xr-background-color-row-even: #111111;\n  --xr-background-color-row-odd: #313131;\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 20px 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: none;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: '►';\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: '▼';\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: '(';\n}\n\n.xr-dim-list:after {\n  content: ')';\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: ',';\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  margin-bottom: 0;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  background-color: var(--xr-background-color) !important;\n  padding-bottom: 5px !important;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.DataArray &#x27;truediv-8ae01934d030b551640bc82cf3d32e0d&#x27; (y: 35640, x: 2048)&gt;\ndask.array&lt;truediv, shape=(35640, 2048), dtype=float64, chunksize=(8192, 2048), chunktype=numpy.ndarray&gt;\nCoordinates:\n    crs      object +proj=longlat +ellps=WGS84 +type=crs\nDimensions without coordinates: y, x\nAttributes: (12/17)\n    platform_name:        Metop-C\n    sensor:               avhrr-3\n    units:                %\n    name:                 1\n    wavelength:           0.63 µm (0.58-0.68 µm)\n    resolution:           1050\n    ...                   ...\n    start_time:           2024-07-04 09:52:03\n    end_time:             2024-07-04 11:31:03\n    reader:               avhrr_l1b_eps\n    area:                 Shape: (35640, 2048)\\nLons: &lt;xarray.DataArray &#x27;from...\n    _satpy_id:            DataID(name=&#x27;1&#x27;, wavelength=WavelengthRange(min=0.5...\n    ancillary_variables:  []</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.DataArray</div><div class='xr-array-name'>'truediv-8ae01934d030b551640bc82cf3d32e0d'</div><ul class='xr-dim-list'><li><span>y</span>: 35640</li><li><span>x</span>: 2048</li></ul></div><ul class='xr-sections'><li class='xr-section-item'><div class='xr-array-wrap'><input id='section-22befac9-37b1-476a-9237-3f46946ffdf1' class='xr-array-in' type='checkbox' checked><label for='section-22befac9-37b1-476a-9237-3f46946ffdf1' title='Show/hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-array-preview xr-preview'><span>dask.array&lt;chunksize=(8192, 2048), meta=np.ndarray&gt;</span></div><div class='xr-array-data'><table>\n    <tr>\n        <td>\n            <table style=\"border-collapse: collapse;\">\n                <thead>\n                    <tr>\n                        <td> </td>\n                        <th> Array </th>\n                        <th> Chunk </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    \n                    <tr>\n                        <th> Bytes </th>\n                        <td> 556.88 MiB </td>\n                        <td> 128.00 MiB </td>\n                    </tr>\n                    \n                    <tr>\n                        <th> Shape </th>\n                        <td> (35640, 2048) </td>\n                        <td> (8192, 2048) </td>\n                    </tr>\n                    <tr>\n                        <th> Dask graph </th>\n                        <td colspan=\"2\"> 5 chunks in 10 graph layers </td>\n                    </tr>\n                    <tr>\n                        <th> Data type </th>\n                        <td colspan=\"2\"> float64 numpy.ndarray </td>\n                    </tr>\n                </tbody>\n            </table>\n        </td>\n        <td>\n        <svg width=\"85\" height=\"170\" style=\"stroke:rgb(0,0,0);stroke-width:1\" >\n\n  <!-- Horizontal lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"35\" y2=\"0\" style=\"stroke-width:2\" />\n  <line x1=\"0\" y1=\"27\" x2=\"35\" y2=\"27\" />\n  <line x1=\"0\" y1=\"55\" x2=\"35\" y2=\"55\" />\n  <line x1=\"0\" y1=\"82\" x2=\"35\" y2=\"82\" />\n  <line x1=\"0\" y1=\"110\" x2=\"35\" y2=\"110\" />\n  <line x1=\"0\" y1=\"120\" x2=\"35\" y2=\"120\" style=\"stroke-width:2\" />\n\n  <!-- Vertical lines -->\n  <line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"120\" style=\"stroke-width:2\" />\n  <line x1=\"35\" y1=\"0\" x2=\"35\" y2=\"120\" style=\"stroke-width:2\" />\n\n  <!-- Colored Rectangle -->\n  <polygon points=\"0.0,0.0 35.350397145487605,0.0 35.350397145487605,120.0 0.0,120.0\" style=\"fill:#ECB172A0;stroke-width:0\"/>\n\n  <!-- Text -->\n  <text x=\"17.675199\" y=\"140.000000\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" >2048</text>\n  <text x=\"55.350397\" y=\"60.000000\" font-size=\"1.0rem\" font-weight=\"100\" text-anchor=\"middle\" transform=\"rotate(-90,55.350397,60.000000)\">35640</text>\n</svg>\n        </td>\n    </tr>\n</table></div></div></li><li class='xr-section-item'><input id='section-fdb27cd5-b16c-41b3-bb67-de20ca10d14e' class='xr-section-summary-in' type='checkbox'  checked><label for='section-fdb27cd5-b16c-41b3-bb67-de20ca10d14e' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>crs</span></div><div class='xr-var-dims'>()</div><div class='xr-var-dtype'>object</div><div class='xr-var-preview xr-preview'>+proj=longlat +ellps=WGS84 +type...</div><input id='attrs-6f60109d-8e85-4972-b65d-588f17ae7d33' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-6f60109d-8e85-4972-b65d-588f17ae7d33' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-49f2d553-4a85-4d75-baad-14460c0430f1' class='xr-var-data-in' type='checkbox'><label for='data-49f2d553-4a85-4d75-baad-14460c0430f1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array(&lt;Geographic 2D CRS: +proj=longlat +ellps=WGS84 +type=crs&gt;\nName: unknown\nAxis Info [ellipsoidal]:\n- lon[east]: Longitude (degree)\n- lat[north]: Latitude (degree)\nArea of Use:\n- undefined\nDatum: Unknown based on WGS 84 ellipsoid\n- Ellipsoid: WGS 84\n- Prime Meridian: Greenwich\n, dtype=object)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-b3a8d76e-f8d5-4334-a164-72d5fb1c2976' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-b3a8d76e-f8d5-4334-a164-72d5fb1c2976' class='xr-section-summary'  title='Expand/collapse section'>Indexes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'></ul></div></li><li class='xr-section-item'><input id='section-3b6317b2-05d5-413a-86be-97f6d0e0bc69' class='xr-section-summary-in' type='checkbox'  ><label for='section-3b6317b2-05d5-413a-86be-97f6d0e0bc69' class='xr-section-summary' >Attributes: <span>(17)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>platform_name :</span></dt><dd>Metop-C</dd><dt><span>sensor :</span></dt><dd>avhrr-3</dd><dt><span>units :</span></dt><dd>%</dd><dt><span>name :</span></dt><dd>1</dd><dt><span>wavelength :</span></dt><dd>0.63 µm (0.58-0.68 µm)</dd><dt><span>resolution :</span></dt><dd>1050</dd><dt><span>calibration :</span></dt><dd>reflectance</dd><dt><span>coordinates :</span></dt><dd>(&#x27;longitude&#x27;, &#x27;latitude&#x27;)</dd><dt><span>file_type :</span></dt><dd>avhrr_eps</dd><dt><span>standard_name :</span></dt><dd>toa_bidirectional_reflectance</dd><dt><span>modifiers :</span></dt><dd>()</dd><dt><span>start_time :</span></dt><dd>2024-07-04 09:52:03</dd><dt><span>end_time :</span></dt><dd>2024-07-04 11:31:03</dd><dt><span>reader :</span></dt><dd>avhrr_l1b_eps</dd><dt><span>area :</span></dt><dd>Shape: (35640, 2048)\nLons: &lt;xarray.DataArray &#x27;from-value-d9790e15101addd74b6ff9afea3a6a5e&#x27; (y: 35640,\n                                                                 x: 2048)&gt;\ndask.array&lt;from-value, shape=(35640, 2048), dtype=float64, chunksize=(35640, 2048), chunktype=numpy.ndarray&gt;\nDimensions without coordinates: y, x\nAttributes: (12/14)\n    platform_name:        Metop-C\n    sensor:               avhrr-3\n    name:                 longitude\n    resolution:           1050\n    file_type:            avhrr_eps\n    standard_name:        longitude\n    ...                   ...\n    start_time:           2024-07-04 09:52:03\n    end_time:             2024-07-04 11:31:03\n    reader:               avhrr_l1b_eps\n    _satpy_id:            DataID(name=&#x27;longitude&#x27;, resolution=1050, modifiers...\n    long_name:            longitude\n    ancillary_variables:  []\nLats: &lt;xarray.DataArray &#x27;from-value-67caf5a7282f4fcab939b0b20177f05d&#x27; (y: 35640,\n                                                                 x: 2048)&gt;\ndask.array&lt;from-value, shape=(35640, 2048), dtype=float64, chunksize=(35640, 2048), chunktype=numpy.ndarray&gt;\nDimensions without coordinates: y, x\nAttributes: (12/14)\n    platform_name:        Metop-C\n    sensor:               avhrr-3\n    name:                 latitude\n    resolution:           1050\n    file_type:            avhrr_eps\n    standard_name:        latitude\n    ...                   ...\n    start_time:           2024-07-04 09:52:03\n    end_time:             2024-07-04 11:31:03\n    reader:               avhrr_l1b_eps\n    _satpy_id:            DataID(name=&#x27;latitude&#x27;, resolution=1050, modifiers=())\n    long_name:            latitude\n    ancillary_variables:  []</dd><dt><span>_satpy_id :</span></dt><dd>DataID(name=&#x27;1&#x27;, wavelength=WavelengthRange(min=0.58, central=0.63, max=0.68, unit=&#x27;µm&#x27;), resolution=1050, calibration=&lt;1&gt;, modifiers=())</dd><dt><span>ancillary_variables :</span></dt><dd>[]</dd></dl></div></li></ul></div></div>","content_type":"text/html"},"text/plain":{"content":"<xarray.DataArray 'truediv-8ae01934d030b551640bc82cf3d32e0d' (y: 35640, x: 2048)>\ndask.array<truediv, shape=(35640, 2048), dtype=float64, chunksize=(8192, 2048), chunktype=numpy.ndarray>\nCoordinates:\n    crs      object +proj=longlat +ellps=WGS84 +type=crs\nDimensions without coordinates: y, x\nAttributes: (12/17)\n    platform_name:        Metop-C\n    sensor:               avhrr-3\n    units:                %\n    name:                 1\n    wavelength:           0.63 µm (0.58-0.68 µm)\n    resolution:           1050\n    ...                   ...\n    start_time:           2024-07-04 09:52:03\n    end_time:             2024-07-04 11:31:03\n    reader:               avhrr_l1b_eps\n    area:                 Shape: (35640, 2048)\\nLons: <xarray.DataArray 'from...\n    _satpy_id:            DataID(name='1', wavelength=WavelengthRange(min=0.5...\n    ancillary_variables:  []","content_type":"text/plain"}}}],"visibility":"show","key":"VYjd3lckzp"}],"visibility":"show","key":"LQSazIMFgJ"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"scn['1'].attrs['wavelength']","visibility":"show","key":"Iv6qLXjPoz"},{"type":"output","id":"P638ST5CCmkg7BT1DSqGA","data":[{"output_type":"execute_result","execution_count":25,"metadata":{},"data":{"text/plain":{"content":"WavelengthRange(min=0.58, central=0.63, max=0.68, unit='µm')","content_type":"text/plain"}}}],"visibility":"show","key":"C4DPi0C0ki"}],"visibility":"show","key":"n32XZJ3mjX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Do some calculation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e2HoieiSs7"}],"identifier":"do-some-calculation","label":"Do some calculation","html_id":"do-some-calculation","implicit":true,"key":"SwxUcdgXVj"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Calculations based on loaded datasets/channels can easily be assigned to a new dataset.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"c52118ZaN5"}],"key":"a1i2hkHw6x"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We resample the scene in a smaller area over the Spain and use the 2 loaded datasets to calculate a new dataset.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"arWmImCmB7"}],"key":"dKKPiB5Iiu"}],"key":"ZT1hqsbWMP"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"newscn = scn.resample('spain')","visibility":"show","key":"xHRsoquffL"},{"type":"output","id":"-FbjlO0l_C-5sYvvtLFw3","data":[],"visibility":"show","key":"y9TtMoSHzV"}],"visibility":"show","key":"QtgSA3Aik8"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"newscn[\"ndvi\"] = (newscn['2'] - newscn['1']) / (newscn['2'] + newscn['1'])\n#scn.show(\"ndvi\")","visibility":"show","key":"BrBw5RRQrE"},{"type":"output","id":"R_5VdoQTEiKbyOTQxJRLf","data":[],"visibility":"show","key":"UK2CHJmtV5"}],"visibility":"show","key":"N6K2z1cNid"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize datasets","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gV1AHp22bv"}],"identifier":"visualize-datasets","label":"Visualize datasets","html_id":"visualize-datasets","implicit":true,"key":"IEQDEH2UDd"}],"key":"qetfgr0Xke"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\nfrom pyresample.kd_tree import resample_nearest\nfrom pyresample.geometry import AreaDefinition\nfrom pyresample import load_area\n\n","visibility":"show","key":"ptKpajIQcd"},{"type":"output","id":"eo_8GNo49JRaQ2K6P2lJu","data":[],"visibility":"show","key":"VxWSDdTAiE"}],"visibility":"show","key":"ShZQRI5GaY"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"\narea_def = load_area(satpy_installation_path+'/etc/areas.yaml', 'spain') \n#scene \nlons, lats = newscn[\"1\"].area.get_lonlats()\nswath_def = pyresample.geometry.SwathDefinition(lons, lats)\nndvi = newscn[\"ndvi\"].data.compute()\nresult = resample_nearest(swath_def, ndvi, area_def, radius_of_influence=20000, fill_value=None)\n\n#cartopy\ncrs = area_def.to_cartopy_crs()\nfig, ax = plt.subplots(subplot_kw=dict(projection=crs))\ncoastlines = ax.coastlines()  \nax.set_global()\n\n#plot\nimg = plt.imshow(result, transform=crs, extent=crs.bounds, origin='upper')\ncbar = plt.colorbar()","visibility":"show","key":"CinW72qnMl"},{"type":"output","id":"VvbZEJzWimv4kcHPeiQT7","data":[{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ea5c2e4892d09831da2e14131f80fe9d","path":"/ea5c2e4892d09831da2e14131f80fe9d.png"},"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"}}}],"visibility":"show","key":"W7ObLv9Dlf"}],"visibility":"show","key":"sZiQRPfog9"}],"key":"BUiWawOa8O"},"references":{"cite":{"order":[],"data":{}}}}